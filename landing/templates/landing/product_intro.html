{% load static %}
<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>PhucDuyFood - Gi·ªõi thi·ªáu s·∫£n ph·∫©m</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap JS + Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <link rel="stylesheet" href="{% static 'landing/style.css' %}">

</head>
<body>
    <!-- Header -->
    <header class="bg-success text-white text-center py-5">
        <h1 class="mb-0">PhucDuyFood</h1>
        <p class="slogan">üåø Gia v·ªã r·∫Øc - ch·∫°m l√† m√™, n·∫øm l√† nh·ªõ!</p>
        {% comment %} <img src="#" alt="S·∫£n ph·∫©m n·ªïi b·∫≠t" class="img-fluid mt-3"> {% endcomment %}
    </header>

   <!-- V√πng S·∫£n ph·∫©m n·ªïi b·∫≠t -->
    <section class="container my-4 featured-section">
        <h2 class="text-center mb-3">S·∫£n ph·∫©m n·ªïi b·∫≠t</h2>
        <div class="row">
            {% for product in featured_products|slice:":3" %}
            <div class="col-md-4 mb-4">
                <div class="card h-100 featured-card">
                    <img src="{{ product.image.url }}" class="card-img-top" alt="{{ product.name }}">
                    <div class="card-body">
                        <h5 class="card-title">{{ product.name }}</h5>
                        <p class="card-text">{{ product.short_description }}</p>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </section>
    <section class="container my-3 category-section">
        <h3 class="text-center mb-3">Danh m·ª•c s·∫£n ph·∫©m </h3>
        <ul class="nav nav-tabs justify-content-center mb-4" id="categoryTabs">
        {% for category in categories %}
            <li class="nav-item">
            <a class="nav-link {% if forloop.first %}active{% endif %}" data-bs-toggle="tab" href="#cat{{ category.id }}">{{ category.name }}</a>
            </li>
        {% endfor %}
        </ul>

        <div class="tab-content">
        {% for category in categories %}
            <div class="tab-pane fade {% if forloop.first %}show active{% endif %}" id="cat{{ category.id }}">
            <div class="row">
            {% for product in all_products %}
                {% if product.category == category %}
                <div class="col-md-3 mb-4">
                    <div class="card h-100">
                    <img src="{{ product.image.url }}" class="card-img-top-sp-all" alt="{{ product.name }}">
                    <div class="card-body">
                        <h6 class="card-title">{{ product.name }}</h6>
                        <p class="card-text">{{ product.code }}</p>
                    </div>
                    </div>
                </div>
                {% endif %}
            {% endfor %}
            </div>
            </div>
        {% endfor %}
        </div>

    </section>

   <footer class="bg-dark text-white py-5">
    <div class="container">
        <div class="row">
            <!-- Copyright -->
            <div class="col-md-6 mb-3 mb-md-0">
                <p class="mb-0">&copy; 2025 PhucDuyFood. All rights reserved.</p>
            </div>

            <!-- Form ƒëƒÉng k√Ω -->
            <div class="col-md-6">
                <form method="POST" action="{% url 'footer_signup' %}">
                    {% csrf_token %}
                    <div class="input-group">
                        <input type="email" name="email" class="form-control" placeholder="Nh·∫≠p email c·ªßa b·∫°n" required>
                        <button type="submit" class="btn btn-success">T∆∞ v·∫•n & B√°o gi√°</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</footer>

</body>
<div class="spice-template" style="display: none;">
  {% for i in "123456789012345678901234567890" %}
    <span class="spice" style="--i: {{ forloop.counter0 }}">
      {% cycle "üåø" "üå∂Ô∏è" "üßÇ" %}
    </span>
  {% endfor %}
</div>

<script>
  function sprinkleSpices(sizeClass) {
    const template = document.querySelector('.spice-template');
    const clone = template.cloneNode(true);
    clone.classList.remove('spice-template');
    clone.classList.add('spice-container', sizeClass);
    clone.style.display = 'block';
    document.body.appendChild(clone);

    setTimeout(() => {
      clone.remove();
    }, 3500);
  }

  // R·∫Øc 3 l·∫ßn v·ªõi k√≠ch th∆∞·ªõc kh√°c nhau
  sprinkleSpices('size-large');   // L·∫ßn 1: To
  setTimeout(() => sprinkleSpices('size-medium'), 1500); // L·∫ßn 2: V·ª´a
  setTimeout(() => sprinkleSpices('size-small'), 3000);  // L·∫ßn 3: Nh·ªè
</script>


</html>
